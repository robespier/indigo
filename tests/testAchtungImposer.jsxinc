/**
 * Setup
 */
Indigo.Tests.testAchtungImposer = function() {};
Indigo.Tests.testAchtungImposer.prototype = new Indigo.Tests.testSuite(app);
Indigo.Tests.testAchtungImposer.prototype.constructor = Indigo.Tests.testAchtungImposer;
Indigo.Tests.testAchtungImposer.prototype.name = 'testAchtungImposer';

Indigo.Tests.testAchtungImposer.prototype.setUp = function () {
	this.pocient = new Indigo.AchtungImposer(this.app);
	this.testCommonPath = '/testCommons/d9/111/';
	var job = {
		"template" : 'testAchtungImposer',
		"separations" : 'noMatter',
		"roll" : 'noMatter',
		"print_list" : [
			this.testsFolder + this.testCommonPath + '001/spaklevka_08_klei.eps',
			this.testsFolder + this.testCommonPath + '002/spaklevka_1_5_klei.eps',
		],
	};
	this.pocient.setup(job);
	this.pocient.templateFolder = this.testsFolder + '/' + this.name;
};

/**
 * Test
 */
Indigo.Tests.testAchtungImposer.prototype.run = function() {
	this.pocient.run();
	// В первой папке задания должен лежать файл:
	// d9111001_002_ACHTUNG.pdf
	var result = this.assertFileExists(this.testsFolder + this.testCommonPath + '001/d9111001_002_ACHTUNG.pdf');
	this.log(result, '.Created');
};

/**
 * TearDown
 */
Indigo.Tests.testAchtungImposer.prototype.tearDown = function() {
	var testResult = new File(this.testsFolder + this.testCommonPath + '001/d9111001_002_ACHTUNG.pdf');
	if (testResult.exists) {
		testResult.remove();
	}
};
