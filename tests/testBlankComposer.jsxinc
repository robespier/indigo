/**
 *
 * @constructor
 */
Indigo.Tests.testBlankComposer = function() {};
Indigo.Tests.testBlankComposer.prototype = new Indigo.Tests.testSuite(app);
Indigo.Tests.testBlankComposer.prototype.constructor = Indigo.Tests.testBlankComposer;
Indigo.Tests.testBlankComposer.prototype.name = 'testBlankComposer';

Indigo.Tests.testBlankComposer.prototype.setUp = function() {
	this.pocient = new Indigo.BlankComposer();
	var data = {
		_id : "532924337fd99ca1d7f8de84",
		customer : "Пищехимпродукт ООО",
		designer : "Сергеев Р.",
		diam : false,
		ink_0 : false,
		ink_1 : true,
		ink_2 : true,
		ink_3 : true,
		ink_4 : true,
		ink_5 : false,
		ink_6 : false,
		klei : false,
		kongrev : false,
		label : this.testsFilesFolder + '\\' + this.name + "\\spaklevka_08_klei.eps",
		lak_select : false,
		lak_solid : true,
		manager : "Исламов Р.",
		name : "Мед цветочный Абрико 500 г",
		order : "114Ц00370",
		sizeX : 69,
		sizeY : 185,
		task : "3160068",
		tis : false,
		tis_hot : false
	};
	this.pocient.setup(data);
};

Indigo.Tests.testBlankComposer.prototype.run = function() {
	this.pocient.run();
	var result = this.assertFileExists(this.testsFilesFolder + '\\' + this.name + "\\spaklevka_08_klei.jpg");
	this.log(result, '.Created');
	// Сомнительное это дело - судить об идентичности файлов исходя из их размеров.
	// Это как утверждать, что два человека одинаковы, так как они одного роста.
	// Но это лучше, чем ничего, правда ведь?
	var produced = new File(this.testsFilesFolder + '\\' + this.name + "\\spaklevka_08_klei.jpg");
	var expected = new File(this.testsFilesFolder + '\\' + this.name + "\\expected.jpg");
	var reslen = this.assertEq(produced.length, expected.length);
	this.log(reslen, '.Matched');
};

Indigo.Tests.testBlankComposer.prototype.tearDown = function() {
	var jpg = new File(this.testsFilesFolder + '\\' + this.name + "\\spaklevka_08_klei.jpg");
	if (jpg.exists) {
		jpg.remove();
	}
};
